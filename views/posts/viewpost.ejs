<% layout("layouts/boilerplate.ejs") %>

<main class="full-post-container">
    <div class="full-post-card">
        <h1>Full Post</h1>
        <p class="text-muted">Created at: 
            <% 
                const createdDate = new Date(post.created_at);
                const formattedDate = createdDate.toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric'
                });
            %>
            <%= formattedDate %>
        </p>

        <p class="post-content"><%= post.content %></p>

        <div class="text-end">
            <a href="/<%= user.id %>/editpost/<%= post.id %>" class="btn btn-warning btn-sm">Edit</a>
            <form method="POST" action="/<%= user.id %>/deletepost" class="d-inline">
                <input type="hidden" name="post_id" value="<%= post.id %>">
                <button type="submit" class="btn btn-danger btn-sm">Delete</button>
            </form>
        </div>

        <p class="mt-3">
            <a href="/user/<%= user.id %>" class="back-link">&larr; Back to Dashboard</a>
        </p>
    </div>
</main>
